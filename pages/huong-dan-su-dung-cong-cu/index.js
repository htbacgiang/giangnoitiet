import Head from 'next/head';
import Link from 'next/link';
import DefaultLayout from '../../components/layout/DefaultLayout';
import { pageMetas } from '../../utils/metaUtils';

export default function HuongDanSuDungCongCu({ meta = {} }) {
  // JSON-LD Schema.org cho trang h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng
  const jsonLd = {
    "@context": "https://schema.org",
    "@type": "HowTo",
    "name": meta?.title || "H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng c√¥ng c·ª• ki·ªÉm tra ti·ªÉu ƒë∆∞·ªùng thai k·ª≥",
    "description": meta?.description || "H∆∞·ªõng d·∫´n t·ª´ng b∆∞·ªõc c√°ch s·ª≠ d·ª•ng c√¥ng c·ª• ki·ªÉm tra ƒë∆∞·ªùng huy·∫øt c·ªßa Giang N·ªôi Ti·∫øt",
    "url": meta?.canonical || "https://giangnoitiet.vn/huong-dan-su-dung-cong-cu",
    "provider": {
      "@type": "MedicalOrganization",
      "name": "Giang N·ªôi Ti·∫øt",
      "url": "https://giangnoitiet.vn"
    },
    "step": [
      {
        "@type": "HowToStep",
        "name": "Nh·∫≠p th√¥ng tin c∆° b·∫£n",
        "text": "Nh·∫≠p tu·∫ßn thai hi·ªán t·∫°i v√† ch·ªçn ƒë∆°n v·ªã ƒëo l∆∞·ªùng (mmol/L ho·∫∑c mg/dL)."
      },
      {
        "@type": "HowToStep",
        "name": "Nh·∫≠p ch·ªâ s·ªë ƒë∆∞·ªùng huy·∫øt",
        "text": "ƒêi·ªÅn c√°c ch·ªâ s·ªë ƒë∆∞·ªùng huy·∫øt ƒë√≥i, sau ƒÉn 1 gi·ªù v√† sau ƒÉn 2 gi·ªù. B·∫°n c√≥ th·ªÉ nh·∫≠p m·ªôt ho·∫∑c nhi·ªÅu ch·ªâ s·ªë."
      },
      {
        "@type": "HowToStep",
        "name": "Xem k·∫øt qu·∫£ ƒë√°nh gi√°",
        "text": "C√¥ng c·ª• s·∫Ω hi·ªÉn th·ªã m·ª©c ƒë·ªô nguy c∆° (Th·∫•p, Trung b√¨nh, Cao) k√®m theo khuy·∫øn ngh·ªã c·ª• th·ªÉ d·ª±a tr√™n ch·ªâ s·ªë c·ªßa b·∫°n."
      },
      {
        "@type": "HowToStep",
        "name": "L∆∞u tr·ªØ v√† theo d√µi",
        "text": "S·ª≠ d·ª•ng t√≠nh nƒÉng l∆∞u k·∫øt qu·∫£ ƒë·ªÉ theo d√µi l·ªãch s·ª≠ ƒë∆∞·ªùng huy·∫øt, gi√∫p b√°c sƒ© ƒë√°nh gi√° t√¨nh tr·∫°ng s·ª©c kh·ªèe c·ªßa b·∫°n d·ªÖ d√†ng h∆°n."
      }
    ]
  };

  return (
    <DefaultLayout 
      title={meta?.title}
      desc={meta?.description}
      thumbnail={meta?.og?.image}
      meta={meta}
    >
      <Head>
        {/* JSON-LD HowTo Schema cho trang h∆∞·ªõng d·∫´n */}
        <script
          type="application/ld+json"
          dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}
        />
      </Head>
      <div className="h-[80px]"></div>

      <div className="min-h-screen bg-gradient-to-br from-emerald-50 to-green-50 py-8">
        <div className="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
          {/* Header */}
          <div className="text-center mb-8">
            <h1 className="text-4xl font-bold bg-gradient-to-r from-emerald-700 to-emerald-900 bg-clip-text text-transparent mb-3">
              üìñ H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng c√¥ng c·ª•
            </h1>
            <p className="text-emerald-600 text-lg mb-2">
              C√°ch s·ª≠ d·ª•ng c√¥ng c·ª• ki·ªÉm tra ti·ªÉu ƒë∆∞·ªùng thai k·ª≥ hi·ªáu qu·∫£
            </p>
            <p className="text-gray-500 text-sm">
              H∆∞·ªõng d·∫´n t·ª´ng b∆∞·ªõc ƒë·ªÉ theo d√µi s·ª©c kh·ªèe thai k·ª≥ t·ªët nh·∫•t
            </p>
          </div>

          {/* Quick Access */}
          <div className="bg-white/90 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-emerald-100 mb-8">
            <div className="text-center">
              <h2 className="text-2xl font-bold text-emerald-900 mb-4">
                üöÄ Truy c·∫≠p c√¥ng c·ª• ngay
              </h2>
              <Link href="/cong-cu-kiem-tra-tieu-duong-thai-ky">
                <button className="bg-gradient-to-r from-emerald-600 to-emerald-700 text-white px-8 py-3 rounded-lg hover:from-emerald-700 hover:to-emerald-800 transition-all duration-200 font-semibold shadow-md hover:shadow-lg transform hover:scale-[1.02]">
                  üî¨ S·ª≠ d·ª•ng c√¥ng c·ª• ki·ªÉm tra
                </button>
              </Link>
            </div>
          </div>

          {/* Step by Step Guide */}
          <div className="space-y-8">
            {/* Step 1 */}
            <div className="bg-white/90 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-emerald-100">
              <div className="flex items-start gap-4">
                <div className="flex-shrink-0 w-12 h-12 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
                  1
                </div>
                <div className="flex-1">
                  <h3 className="text-xl font-bold text-emerald-900 mb-3">
                    üìä Nh·∫≠p th√¥ng tin c∆° b·∫£n
                  </h3>
                  <div className="space-y-3 text-gray-700">
                    <p><strong>Tu·∫ßn thai:</strong> Nh·∫≠p ch√≠nh x√°c tu·∫ßn thai hi·ªán t·∫°i c·ªßa b·∫°n</p>
                    <p><strong>ƒê∆°n v·ªã ƒëo:</strong> Ch·ªçn mmol/L (Vi·ªát Nam) ho·∫∑c mg/dL (qu·ªëc t·∫ø)</p>
                    <div className="bg-emerald-50 p-4 rounded-lg border border-emerald-200">
                      <p className="text-sm text-emerald-800">
                        üí° <strong>L∆∞u √Ω:</strong> ƒê·∫£m b·∫£o th√¥ng tin tu·∫ßn thai ch√≠nh x√°c ƒë·ªÉ c√≥ k·∫øt qu·∫£ ƒë√°nh gi√° ph√π h·ª£p
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            {/* Step 2 */}
            <div className="bg-white/90 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-emerald-100">
              <div className="flex items-start gap-4">
                <div className="flex-shrink-0 w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
                  2
                </div>
                <div className="flex-1">
                  <h3 className="text-xl font-bold text-green-900 mb-3">
                    ü©∏ Nh·∫≠p ch·ªâ s·ªë ƒë∆∞·ªùng huy·∫øt
                  </h3>
                  <div className="space-y-3 text-gray-700">
                    <p><strong>ƒê∆∞·ªùng huy·∫øt ƒë√≥i:</strong> ƒêo sau khi nh·ªãn ƒÉn 8-12 ti·∫øng</p>
                    <p><strong>ƒê∆∞·ªùng huy·∫øt 1 gi·ªù:</strong> ƒêo 1 gi·ªù sau khi u·ªëng 75g glucose</p>
                    <p><strong>ƒê∆∞·ªùng huy·∫øt 2 gi·ªù:</strong> ƒêo 2 gi·ªù sau khi u·ªëng 75g glucose</p>
                    <div className="bg-green-50 p-4 rounded-lg border border-green-200">
                      <p className="text-sm text-green-800">
                        ‚ö†Ô∏è <strong>Quan tr·ªçng:</strong> Ch·ªâ c·∫ßn nh·∫≠p √≠t nh·∫•t 1 trong 3 ch·ªâ s·ªë ƒë·ªÉ c√≥ k·∫øt qu·∫£ ƒë√°nh gi√°
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            {/* Step 3 */}
            <div className="bg-white/90 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-emerald-100">
              <div className="flex items-start gap-4">
                <div className="flex-shrink-0 w-12 h-12 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
                  3
                </div>
                <div className="flex-1">
                  <h3 className="text-xl font-bold text-emerald-900 mb-3">
                    üìà Xem k·∫øt qu·∫£ ƒë√°nh gi√°
                  </h3>
                  <div className="space-y-3 text-gray-700">
                    <p><strong>M·ª©c ƒë·ªô nguy c∆°:</strong> Th·∫•p, Trung b√¨nh, ho·∫∑c Cao</p>
                    <p><strong>Khuy·∫øn ngh·ªã:</strong> L·ªùi khuy√™n c·ª• th·ªÉ d·ª±a tr√™n k·∫øt qu·∫£</p>
                    <p><strong>Ti√™u chu·∫©n:</strong> D·ª±a tr√™n ti√™u chu·∫©n B·ªô Y t·∫ø Vi·ªát Nam</p>
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                      <div className="bg-green-50 p-3 rounded-lg border border-green-200">
                        <p className="text-sm font-semibold text-green-800">‚úÖ Nguy c∆° th·∫•p</p>
                        <p className="text-xs text-green-600">Ti·∫øp t·ª•c theo d√µi ƒë·ªãnh k·ª≥</p>
                      </div>
                      <div className="bg-yellow-50 p-3 rounded-lg border border-yellow-200">
                        <p className="text-sm font-semibold text-yellow-800">‚ö†Ô∏è Nguy c∆° trung b√¨nh</p>
                        <p className="text-xs text-yellow-600">C·∫ßn theo d√µi ch·∫∑t ch·∫Ω h∆°n</p>
                      </div>
                      <div className="bg-red-50 p-3 rounded-lg border border-red-200">
                        <p className="text-sm font-semibold text-red-800">üö® Nguy c∆° cao</p>
                        <p className="text-xs text-red-600">C·∫ßn t∆∞ v·∫•n b√°c sƒ© ngay</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            {/* Step 4 */}
            <div className="bg-white/90 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-emerald-100">
              <div className="flex items-start gap-4">
                <div className="flex-shrink-0 w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
                  4
                </div>
                <div className="flex-1">
                  <h3 className="text-xl font-bold text-green-900 mb-3">
                    üìù L∆∞u tr·ªØ v√† theo d√µi
                  </h3>
                  <div className="space-y-3 text-gray-700">
                    <p><strong>L∆∞u k·∫øt qu·∫£:</strong> Nh·∫•n &quot;L∆∞u k·∫øt qu·∫£&quot; ƒë·ªÉ theo d√µi l·ªãch s·ª≠</p>
                    <p><strong>Xem th·ªëng k√™:</strong> Theo d√µi xu h∆∞·ªõng ƒë∆∞·ªùng huy·∫øt theo th·ªùi gian</p>
                    <p><strong>Xu·∫•t b√°o c√°o:</strong> T·∫°o b√°o c√°o ƒë·ªÉ chia s·∫ª v·ªõi b√°c sƒ©</p>
                    <div className="bg-green-50 p-4 rounded-lg border border-green-200">
                      <p className="text-sm text-green-800">
                        üìä <strong>L·ª£i √≠ch:</strong> Theo d√µi l·ªãch s·ª≠ gi√∫p b√°c sƒ© ƒë√°nh gi√° hi·ªáu qu·∫£ ƒëi·ªÅu tr·ªã
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          {/* Tips and Best Practices */}
          <div className="bg-white/90 backdrop-blur-sm p-8 rounded-xl shadow-lg border border-emerald-100 mt-8">
            <h3 className="text-2xl font-bold text-emerald-900 mb-6 text-center">
              üí° M·∫πo s·ª≠ d·ª•ng hi·ªáu qu·∫£
            </h3>
            
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div className="space-y-4">
                <h4 className="font-semibold text-emerald-800 mb-3">üìã Tr∆∞·ªõc khi ƒëo</h4>
                <ul className="space-y-2 text-sm text-gray-700">
                  <li>‚Ä¢ Nh·ªãn ƒÉn 8-12 ti·∫øng tr∆∞·ªõc khi ƒëo ƒë∆∞·ªùng huy·∫øt ƒë√≥i</li>
                  <li>‚Ä¢ U·ªëng ƒë·ªß n∆∞·ªõc, tr√°nh cƒÉng th·∫≥ng</li>
                  <li>‚Ä¢ Ki·ªÉm tra m√°y ƒëo v√† que th·ª≠ c√≤n h·∫°n s·ª≠ d·ª•ng</li>
                  <li>‚Ä¢ R·ª≠a tay s·∫°ch tr∆∞·ªõc khi ƒëo</li>
                </ul>
              </div>

              <div className="space-y-4">
                <h4 className="font-semibold text-emerald-800 mb-3">üìä Khi nh·∫≠p d·ªØ li·ªáu</h4>
                <ul className="space-y-2 text-sm text-gray-700">
                  <li>‚Ä¢ Nh·∫≠p ch√≠nh x√°c ƒë∆°n v·ªã ƒëo (mmol/L ho·∫∑c mg/dL)</li>
                  <li>‚Ä¢ Ghi ch√∫ th·ªùi gian ƒëo v√† t√¨nh tr·∫°ng s·ª©c kh·ªèe</li>
                  <li>‚Ä¢ Nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin ƒë·ªÉ c√≥ ƒë√°nh gi√° ch√≠nh x√°c</li>
                  <li>‚Ä¢ L∆∞u k·∫øt qu·∫£ th∆∞·ªùng xuy√™n ƒë·ªÉ theo d√µi xu h∆∞·ªõng</li>
                </ul>
              </div>
            </div>
          </div>

          {/* FAQ Section */}
          <div className="bg-white/90 backdrop-blur-sm p-8 rounded-xl shadow-lg border border-emerald-100 mt-8">
            <h3 className="text-2xl font-bold text-emerald-900 mb-6 text-center">
              ‚ùì C√¢u h·ªèi th∆∞·ªùng g·∫∑p
            </h3>
            
            <div className="space-y-6">
              <div>
                <h4 className="font-semibold text-emerald-800 mb-2">Q: T√¥i c√≥ th·ªÉ s·ª≠ d·ª•ng c√¥ng c·ª• n√†y thay th·∫ø cho vi·ªác kh√°m b√°c sƒ© kh√¥ng?</h4>
                <p className="text-sm text-gray-700">A: Kh√¥ng, c√¥ng c·ª• n√†y ch·ªâ mang t√≠nh ch·∫•t tham kh·∫£o. B·∫°n v·∫´n c·∫ßn tham kh·∫£o √Ω ki·∫øn b√°c sƒ© chuy√™n khoa ƒë·ªÉ c√≥ ch·∫©n ƒëo√°n v√† ƒëi·ªÅu tr·ªã ch√≠nh x√°c.</p>
              </div>

              <div>
                <h4 className="font-semibold text-emerald-800 mb-2">Q: D·ªØ li·ªáu c·ªßa t√¥i c√≥ ƒë∆∞·ª£c b·∫£o m·∫≠t kh√¥ng?</h4>
                <p className="text-sm text-gray-700">A: C√≥, t·∫•t c·∫£ d·ªØ li·ªáu ƒë∆∞·ª£c m√£ h√≥a v√† b·∫£o m·∫≠t tuy·ªát ƒë·ªëi. Ch√∫ng t√¥i tu√¢n th·ªß nghi√™m ng·∫∑t c√°c quy ƒë·ªãnh v·ªÅ b·∫£o v·ªá d·ªØ li·ªáu c√° nh√¢n.</p>
              </div>

              <div>
                <h4 className="font-semibold text-emerald-800 mb-2">Q: T√¥i c√≥ th·ªÉ s·ª≠ d·ª•ng c√¥ng c·ª• n√†y mi·ªÖn ph√≠ kh√¥ng?</h4>
                <p className="text-sm text-gray-700">A: C√≥, c√¥ng c·ª• ho√†n to√†n mi·ªÖn ph√≠ v√† kh√¥ng c·∫ßn ƒëƒÉng k√Ω t√†i kho·∫£n.</p>
              </div>

              <div>
                <h4 className="font-semibold text-emerald-800 mb-2">Q: Khi n√†o t√¥i n√™n ƒëo ƒë∆∞·ªùng huy·∫øt?</h4>
                <p className="text-sm text-gray-700">A: N√™n ƒëo theo l·ªãch tr√¨nh c·ªßa b√°c sƒ©, th∆∞·ªùng l√† ƒë∆∞·ªùng huy·∫øt ƒë√≥i (s√°ng s·ªõm) v√† sau ƒÉn 1-2 gi·ªù. T·∫ßn su·∫•t c√≥ th·ªÉ thay ƒë·ªïi t√πy theo t√¨nh tr·∫°ng s·ª©c kh·ªèe.</p>
              </div>
            </div>
          </div>

          {/* Contact Support */}
          <div className="text-center mt-8">
            <div className="bg-white/90 backdrop-blur-sm p-8 rounded-xl shadow-lg border border-emerald-100">
              <h3 className="text-2xl font-bold text-emerald-900 mb-4">
                üÜò C·∫ßn h·ªó tr·ª£ th√™m?
              </h3>
              <p className="text-gray-600 mb-6">
                N·∫øu b·∫°n c√≥ th·∫Øc m·∫Øc v·ªÅ c√°ch s·ª≠ d·ª•ng c√¥ng c·ª• ho·∫∑c c·∫ßn t∆∞ v·∫•n chuy√™n m√¥n
              </p>
              
              <div className="flex flex-col sm:flex-row gap-4 justify-center">
                <Link href="/tu-van">
                  <button className="bg-gradient-to-r from-emerald-600 to-emerald-700 text-white px-8 py-3 rounded-lg hover:from-emerald-700 hover:to-emerald-800 transition-all duration-200 font-semibold shadow-md hover:shadow-lg transform hover:scale-[1.02]">
                    üë©‚Äç‚öïÔ∏è T∆∞ v·∫•n chuy√™n gia
                  </button>
                </Link>
                
                <a href="tel:+84948907686">
                  <button className="bg-gradient-to-r from-green-600 to-green-700 text-white px-8 py-3 rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-200 font-semibold shadow-md hover:shadow-lg transform hover:scale-[1.02]">
                    üìû G·ªçi hotline
                  </button>
                </a>
              </div>

              <div className="mt-6 p-4 bg-emerald-50 rounded-lg border border-emerald-200">
                <p className="text-sm text-emerald-800">
                  üí° <strong>L∆∞u √Ω:</strong> C√¥ng c·ª• n√†y ƒë∆∞·ª£c ph√°t tri·ªÉn d·ª±a tr√™n ti√™u chu·∫©n B·ªô Y t·∫ø Vi·ªát Nam v√† c√°c h∆∞·ªõng d·∫´n qu·ªëc t·∫ø v·ªÅ ti·ªÉu ƒë∆∞·ªùng thai k·ª≥.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </DefaultLayout>
  );
}

export async function getServerSideProps() {
  try {
    return {
      props: { 
        meta: pageMetas.toolGuide 
      },
    };
  } catch (error) {
    console.error('Error in getServerSideProps:', error);
    
    return {
      props: { 
        meta: pageMetas.toolGuide 
      },
    };
  }
}